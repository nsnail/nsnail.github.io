import{_ as e}from"./index-Bx7rElEd.js";import{aj as l,o,c as i,a as c,S as n,F as a,K as t,P as r,Q as s,R as d,a7 as m,J as u,O as p,M as f}from"./@vue-_BCsYqm-.js";import"./element-plus-CoQd9HEf.js";import"./lodash-es-DCh--ulG.js";import"./@vueuse-DKZ1O7gq.js";import"./@element-plus-DpD46RjY.js";import"./@sxzz-CpAfbxx4.js";import"./@ctrl-D2oWfImC.js";import"./dayjs-Cud5yAXI.js";import"./async-validator-BTKOuuO-.js";import"./memoize-one-Ds0C_khL.js";import"./normalize-wheel-es-Vn5vHDCm.js";import"./@floating-ui-DT7V1Oc1.js";import"./crypto-js-BfYQ37JU.js";import"./axios-DMXdiZgf.js";import"./vue-router-DP39kmEB.js";import"./nprogress-BX4rmQ7W.js";import"./vuex-CNGLPxA3.js";import"./json-bigint-D0bu8vFr.js";import"./bignumber.js-iDjSUVmj.js";import"./vue-i18n-DbMEmpqT.js";import"./@intlify-CZIS8eQd.js";import"./vue3-json-viewer-B-aZDOpp.js";import"./ace-builds-D9YH2WY7.js";import"./vue3-ace-editor-ubj-WOyx.js";import"./resize-observer-polyfill-CzGuHLZU.js";import"./sortablejs-BALiOaUQ.js";import"./vkbeautify-DEVEMlla.js";const h={icons:[{icons:["el-icon-add-location","el-icon-aim","el-icon-alarm-clock","el-icon-apple","el-icon-arrow-down","el-icon-arrow-down-bold","el-icon-arrow-left","el-icon-arrow-left-bold","el-icon-arrow-right","el-icon-arrow-right-bold","el-icon-arrow-up","el-icon-arrow-up-bold","el-icon-avatar","el-icon-back","el-icon-baseball","el-icon-basketball","el-icon-bell","el-icon-bell-filled","el-icon-bicycle","el-icon-bottom","el-icon-bottom-left","el-icon-bottom-right","el-icon-bowl","el-icon-box","el-icon-briefcase","el-icon-brush","el-icon-brush-filled","el-icon-burger","el-icon-calendar","el-icon-camera","el-icon-camera-filled","el-icon-caret-bottom","el-icon-caret-left","el-icon-caret-right","el-icon-caret-top","el-icon-cellphone","el-icon-chat-dot-round","el-icon-chat-dot-square","el-icon-chat-line-round","el-icon-chat-line-square","el-icon-chat-round","el-icon-chat-square","el-icon-check","el-icon-checked","el-icon-cherry","el-icon-chicken","el-icon-circle-check","el-icon-circle-check-filled","el-icon-circle-close","el-icon-circle-close-filled","el-icon-circle-plus","el-icon-circle-plus-filled","el-icon-clock","el-icon-close","el-icon-close-bold","el-icon-cloudy","el-icon-coffee","el-icon-coffee-cup","el-icon-coin","el-icon-cold-drink","el-icon-collection","el-icon-collection-tag","el-icon-comment","el-icon-compass","el-icon-connection","el-icon-coordinate","el-icon-copy-document","el-icon-cpu","el-icon-credit-card","el-icon-crop","el-icon-d-arrow-left","el-icon-d-arrow-right","el-icon-d-caret","el-icon-data-analysis","el-icon-data-board","el-icon-data-line","el-icon-delete","el-icon-delete-filled","el-icon-delete-location","el-icon-dessert","el-icon-discount","el-icon-dish","el-icon-dish-dot","el-icon-document","el-icon-document-add","el-icon-document-checked","el-icon-document-copy","el-icon-document-delete","el-icon-document-remove","el-icon-download","el-icon-drizzling","el-icon-edit","el-icon-edit-pen","el-icon-eleme","el-icon-eleme-filled","el-icon-element-plus","el-icon-expand","el-icon-failed","el-icon-female","el-icon-files","el-icon-film","el-icon-filter","el-icon-finished","el-icon-first-aid-kit","el-icon-flag","el-icon-fold","el-icon-folder","el-icon-folder-add","el-icon-folder-checked","el-icon-folder-delete","el-icon-folder-opened","el-icon-folder-remove","el-icon-food","el-icon-football","el-icon-fork-spoon","el-icon-fries","el-icon-full-screen","el-icon-goblet","el-icon-goblet-full","el-icon-goblet-square","el-icon-goblet-square-full","el-icon-goods","el-icon-goods-filled","el-icon-grape","el-icon-grid","el-icon-guide","el-icon-headset","el-icon-help","el-icon-help-filled","el-icon-hide","el-icon-histogram","el-icon-home-filled","el-icon-hot-water","el-icon-house","el-icon-ice-cream","el-icon-ice-cream-round","el-icon-ice-cream-square","el-icon-ice-drink","el-icon-ice-tea","el-icon-info-filled","el-icon-iphone","el-icon-key","el-icon-knife-fork","el-icon-lightning","el-icon-link","el-icon-list","el-icon-loading","el-icon-location","el-icon-location-filled","el-icon-location-information","el-icon-lock","el-icon-lollipop","el-icon-magic-stick","el-icon-magnet","el-icon-male","el-icon-management","el-icon-map-location","el-icon-medal","el-icon-menu","el-icon-message","el-icon-message-box","el-icon-mic","el-icon-microphone","el-icon-milk-tea","el-icon-minus","el-icon-money","el-icon-monitor","el-icon-moon","el-icon-moon-night","el-icon-more","el-icon-more-filled","el-icon-mostly-cloudy","el-icon-mouse","el-icon-mug","el-icon-mute","el-icon-mute-notification","el-icon-no-smoking","el-icon-notebook","el-icon-notification","el-icon-odometer","el-icon-office-building","el-icon-open","el-icon-operation","el-icon-opportunity","el-icon-orange","el-icon-paperclip","el-icon-partly-cloudy","el-icon-pear","el-icon-phone","el-icon-phone-filled","el-icon-picture","el-icon-picture-filled","el-icon-picture-rounded","el-icon-pie-chart","el-icon-place","el-icon-platform","el-icon-plus","el-icon-pointer","el-icon-position","el-icon-postcard","el-icon-pouring","el-icon-present","el-icon-price-tag","el-icon-printer","el-icon-promotion","el-icon-question-filled","el-icon-rank","el-icon-reading","el-icon-reading-lamp","el-icon-refresh","el-icon-refresh-left","el-icon-refresh-right","el-icon-refrigerator","el-icon-remove","el-icon-remove-filled","el-icon-right","el-icon-scale-to-original","el-icon-school","el-icon-scissor","el-icon-search","el-icon-select","el-icon-sell","el-icon-semi-select","el-icon-service","el-icon-set-up","el-icon-setting","el-icon-share","el-icon-ship","el-icon-shop","el-icon-shopping-bag","el-icon-shopping-cart","el-icon-shopping-cart-full","el-icon-smoking","el-icon-soccer","el-icon-sold-out","el-icon-sort","el-icon-sort-down","el-icon-sort-up","el-icon-stamp","el-icon-star","el-icon-star-filled","el-icon-stopwatch","el-icon-success-filled","el-icon-sugar","el-icon-suitcase","el-icon-sunny","el-icon-sunrise","el-icon-sunset","el-icon-switch","el-icon-switch-button","el-icon-takeaway-box","el-icon-ticket","el-icon-tickets","el-icon-timer","el-icon-toilet-paper","el-icon-tools","el-icon-top","el-icon-top-left","el-icon-top-right","el-icon-trend-charts","el-icon-trophy","el-icon-turn-off","el-icon-umbrella","el-icon-unlock","el-icon-upload","el-icon-upload-filled","el-icon-user","el-icon-user-filled","el-icon-van","el-icon-video-camera","el-icon-video-camera-filled","el-icon-video-pause","el-icon-video-play","el-icon-view","el-icon-wallet","el-icon-wallet-filled","el-icon-warning","el-icon-warning-filled","el-icon-watch","el-icon-watermelon","el-icon-wind-power","el-icon-zoom-in","el-icon-zoom-out"],name:"默认"},{icons:["sc-icon-Vue","sc-icon-Code","sc-icon-Wechat","sc-icon-BugFill","sc-icon-BugLine","sc-icon-FileWord","sc-icon-FileExcel","sc-icon-FilePpt","sc-icon-Organization","sc-icon-Upload","sc-icon-Download","sc-icon-Role","sc-icon-Dept","sc-icon-Js","sc-icon-Memory","sc-icon-Dashboard","sc-icon-Api","sc-icon-Code2","sc-icon-Csharp","sc-icon-Dic","sc-icon-Position","sc-icon-Tpl","sc-icon-Demo","sc-icon-Link","sc-icon-Unlink","sc-icon-Send","sc-icon-SmsCode","sc-icon-Meter","sc-icon-Grafana","sc-icon-Elastic","sc-icon-Kibana","sc-icon-Kafka","sc-icon-Resource","sc-icon-Robot","sc-icon-Device","sc-icon-Business","sc-icon-App","sc-icon-App2","sc-icon-Sync","sc-icon-Drone","sc-icon-Gitea","sc-icon-Docker","sc-icon-Task","sc-icon-ProductCategory","sc-icon-Product","sc-icon-Error","sc-icon-Warning","sc-icon-Stats","sc-icon-Log","sc-icon-OperLog","sc-icon-LoginLog","sc-icon-ExLog","sc-icon-Key","sc-icon-OpenDoor","sc-icon-Alert","sc-icon-Device","sc-icon-Task","sc-icon-Resource","sc-icon-Report","sc-icon-Daily","sc-icon-AccountReport","sc-icon-Element","sc-icon-ApiDoc","sc-icon-Help","sc-icon-Version","sc-icon-Home","sc-icon-Exception","sc-icon-Collect","sc-icon-FreeSql","sc-icon-Performance","sc-icon-Proxy","sc-icon-ECharts","sc-icon-Mobile","sc-icon-Email","sc-icon-SmsCode","sc-icon-MailCode","sc-icon-Archive","sc-icon-DeviceLog","sc-icon-NickName","sc-icon-Telegram","sc-icon-Country"],name:"扩展"}]},b={props:{modelValue:{type:String,default:""},disabled:{type:Boolean,default:!1}},data:()=>({value:"",dialogVisible:!1,data:[],searchText:""}),watch:{modelValue(e){this.value=e},value(e){this.$emit("update:modelValue",e)},searchText(e){this.search(e)}},mounted(){this.value=this.modelValue,this.data.push(...h.icons)},methods:{open(){if(this.disabled)return!1;this.dialogVisible=!0},selectIcon(e){if("SPAN"!==e.target.tagName)return!1;this.value=e.target.dataset.icon,this.dialogVisible=!1},clear(){this.value="",this.dialogVisible=!1},search(e){if(e){const l=JSON.parse(JSON.stringify(h.icons));l.forEach((l=>{l.icons=l.icons.filter((l=>l.includes(e)))})),this.data=l}else this.data=JSON.parse(JSON.stringify(h.icons))}}},g={class:"sc-icon-select"},V={class:"sc-icon-select__dialog"},y={class:"sc-icon-select__list"},k=["data-icon"];const v=e({components:{scIconSelect:e(b,[["render",function(e,h,b,v,_,w){const j=l("el-input"),$=l("el-form-item"),x=l("el-form"),C=l("el-tag"),U=l("el-empty"),z=l("el-icon"),S=l("el-scrollbar"),D=l("el-tab-pane"),I=l("el-tabs"),O=l("el-button"),P=l("el-dialog");return o(),i("div",g,[c("div",{class:a([{hasValue:_.value},"sc-icon-select__wrapper"]),onClick:h[1]||(h[1]=(...e)=>w.open&&w.open(...e))},[n(j,{modelValue:_.value,"onUpdate:modelValue":h[0]||(h[0]=e=>_.value=e),disabled:b.disabled,"prefix-icon":_.value||"el-icon-plus",readonly:""},null,8,["modelValue","disabled","prefix-icon"])],2),n(P,{modelValue:_.dialogVisible,"onUpdate:modelValue":h[5]||(h[5]=e=>_.dialogVisible=e),title:e.$t("图标选择器"),width:760,"append-to-body":"","destroy-on-close":""},{footer:t((()=>[n(O,{onClick:w.clear},{default:t((()=>[r(s(e.$t("清除")),1)])),_:1},8,["onClick"]),n(O,{onClick:h[4]||(h[4]=e=>_.dialogVisible=!1)},{default:t((()=>[r(s(e.$t("取消")),1)])),_:1})])),default:t((()=>[c("div",V,[n(x,{rules:{}},{default:t((()=>[n($,{prop:"searchText"},{default:t((()=>[n(j,{modelValue:_.searchText,"onUpdate:modelValue":h[2]||(h[2]=e=>_.searchText=e),placeholder:e.$t("搜索"),class:"sc-icon-select__search-input",clearable:"","prefix-icon":"el-icon-search",size:"large"},null,8,["modelValue","placeholder"])])),_:1})])),_:1}),n(I,null,{default:t((()=>[(o(!0),i(d,null,m(_.data,(l=>(o(),u(D,{key:l.name,lazy:""},{label:t((()=>[r(s(l.name)+" ",1),n(C,{size:"small",style:{"margin-left":"0.5rem"},type:"info"},{default:t((()=>[r(s(l.icons.length),1)])),_:2},1024)])),default:t((()=>[c("div",y,[n(S,null,{default:t((()=>[c("ul",{onClick:h[3]||(h[3]=(...e)=>w.selectIcon&&w.selectIcon(...e))},[0===l.icons.length?(o(),u(U,{key:0,description:e.$t("未查询到相关图标"),"image-size":100},null,8,["description"])):p("",!0),(o(!0),i(d,null,m(l.icons,(e=>(o(),i("li",{key:e},[c("span",{"data-icon":e},null,8,k),n(z,null,{default:t((()=>[(o(),u(f(e)))])),_:2},1024)])))),128))])])),_:2},1024)])])),_:2},1024)))),128))])),_:1})])])),_:1},8,["modelValue","title"])])}],["__scopeId","data-v-7226858d"]])},data:()=>({form:{meta:{}},loading:!1,treeOptions:[],rules:{meta:{title:[{required:!0,message:"请输入显示名称"}]}}}),methods:{treeToMap(e){const l=[];for(const o of e)l.push({id:o.id,parentId:o.parentId,title:o.meta.title,children:o.children&&o.children.length>0?this.treeToMap(o.children):null});return l},async save(){if(!(await this.$refs.dialogForm.validate().catch((()=>{}))))return!1;this.loading=!0;try{const e=await this.$API.sys_menu.edit.post(this.form);this.$message.success("保存成功"),this.$emit("success",e.data)}catch{}this.loading=!1},setData(e,l){this.form=Object.assign({},e,{parentId:l})}},mounted(){},props:{tree:{type:Object,default:()=>{}}},watch:{tree:{handler(){this.treeOptions=this.treeToMap(this.tree)},deep:!0}}},[["render",function(e,a,p,f,h,b){const g=l("el-empty"),V=l("el-col"),y=l("el-input"),k=l("el-form-item"),v=l("el-cascader"),_=l("el-radio-button"),w=l("el-radio-group"),j=l("scIconSelect"),$=l("el-input-number"),x=l("el-color-picker"),C=l("el-checkbox"),U=l("el-switch"),z=l("el-button"),S=l("el-form"),D=l("el-row");return o(),u(D,{gutter:40},{default:t((()=>[h.form.id?(o(),u(V,{key:1},{default:t((()=>[c("h2",null,s(h.form.meta.title||"新增菜单"),1),n(S,{model:h.form,rules:h.rules,"label-width":"15rem",ref:"dialogForm"},{default:t((()=>[n(k,{label:e.$t("显示名称"),prop:"meta.title"},{default:t((()=>[n(y,{modelValue:h.form.meta.title,"onUpdate:modelValue":a[0]||(a[0]=e=>h.form.meta.title=e),placeholder:e.$t("菜单显示名字"),clearable:""},null,8,["modelValue","placeholder"])])),_:1},8,["label"]),n(k,{label:e.$t("上级菜单"),prop:"parentId"},{default:t((()=>[n(v,{modelValue:h.form.parentId,"onUpdate:modelValue":a[1]||(a[1]=e=>h.form.parentId=e),options:h.treeOptions,placeholder:e.$t("顶级菜单"),props:{emitPath:!1,value:"id",label:"title",checkStrictly:!0},"show-all-levels":!1,clearable:""},null,8,["modelValue","options","placeholder"])])),_:1},8,["label"]),n(k,{label:e.$t("类型"),prop:"meta.type"},{default:t((()=>[n(w,{modelValue:h.form.meta.type,"onUpdate:modelValue":a[2]||(a[2]=e=>h.form.meta.type=e)},{default:t((()=>[(o(!0),i(d,null,m(this.$GLOBAL.enums.menuTypes,((e,l)=>(o(),u(_,{key:l,label:l},{default:t((()=>[r(s(e[1]),1)])),_:2},1032,["label"])))),128))])),_:1},8,["modelValue"])])),_:1},8,["label"]),n(k,{label:e.$t("别名"),prop:"name"},{default:t((()=>[n(y,{modelValue:h.form.name,"onUpdate:modelValue":a[3]||(a[3]=e=>h.form.name=e),placeholder:e.$t("菜单别名"),clearable:""},null,8,["modelValue","placeholder"])])),_:1},8,["label"]),n(k,{label:e.$t("菜单图标"),prop:"meta.icon"},{default:t((()=>[n(j,{modelValue:h.form.meta.icon,"onUpdate:modelValue":a[4]||(a[4]=e=>h.form.meta.icon=e),clearable:""},null,8,["modelValue"])])),_:1},8,["label"]),n(k,{label:e.$t("路由地址"),prop:"path"},{default:t((()=>[n(y,{modelValue:h.form.path,"onUpdate:modelValue":a[5]||(a[5]=e=>h.form.path=e),clearable:"",placeholder:""},null,8,["modelValue"])])),_:1},8,["label"]),n(k,{label:e.$t("排序"),prop:"sort"},{default:t((()=>[n($,{modelValue:h.form.sort,"onUpdate:modelValue":a[6]||(a[6]=e=>h.form.sort=e),min:0,"controls-position":"right",style:{width:"100%"}},null,8,["modelValue"])])),_:1},8,["label"]),n(k,{label:e.$t("重定向"),prop:"redirect"},{default:t((()=>[n(y,{modelValue:h.form.redirect,"onUpdate:modelValue":a[7]||(a[7]=e=>h.form.redirect=e),clearable:"",placeholder:""},null,8,["modelValue"])])),_:1},8,["label"]),n(k,{label:e.$t("菜单高亮"),prop:"active"},{default:t((()=>[n(y,{modelValue:h.form.active,"onUpdate:modelValue":a[8]||(a[8]=e=>h.form.active=e),clearable:"",placeholder:""},null,8,["modelValue"])])),_:1},8,["label"]),n(k,{label:e.$t("视图"),prop:"component"},{default:t((()=>[n(y,{modelValue:h.form.component,"onUpdate:modelValue":a[9]||(a[9]=e=>h.form.component=e),clearable:"",placeholder:""},{prepend:t((()=>a[15]||(a[15]=[r("views/")]))),_:1},8,["modelValue"])])),_:1},8,["label"]),n(k,{label:e.$t("颜色"),prop:"color"},{default:t((()=>[n(x,{modelValue:h.form.meta.color,"onUpdate:modelValue":a[10]||(a[10]=e=>h.form.meta.color=e),predefine:e.predefineColors},null,8,["modelValue","predefine"])])),_:1},8,["label"]),n(k,{label:e.$t("是否隐藏"),prop:"meta.hidden"},{default:t((()=>[n(C,{modelValue:h.form.meta.hidden,"onUpdate:modelValue":a[11]||(a[11]=e=>h.form.meta.hidden=e)},{default:t((()=>[r(s(e.$t("隐藏菜单")),1)])),_:1},8,["modelValue"]),n(C,{modelValue:h.form.meta.hiddenBreadCrumb,"onUpdate:modelValue":a[12]||(a[12]=e=>h.form.meta.hiddenBreadCrumb=e)},{default:t((()=>[r(s(e.$t("隐藏面包屑")),1)])),_:1},8,["modelValue"])])),_:1},8,["label"]),n(k,{label:e.$t("整页路由"),prop:"fullPage"},{default:t((()=>[n(U,{modelValue:h.form.meta.fullPage,"onUpdate:modelValue":a[13]||(a[13]=e=>h.form.meta.fullPage=e)},null,8,["modelValue"])])),_:1},8,["label"]),n(k,{label:e.$t("标签"),prop:"tag"},{default:t((()=>[n(y,{modelValue:h.form.meta.tag,"onUpdate:modelValue":a[14]||(a[14]=e=>h.form.meta.tag=e),clearable:"",placeholder:""},null,8,["modelValue"])])),_:1},8,["label"]),n(k,null,{default:t((()=>[n(z,{loading:h.loading,onClick:b.save,type:"primary"},{default:t((()=>[r(s(e.$t("保存")),1)])),_:1},8,["loading","onClick"])])),_:1})])),_:1},8,["model","rules"])])),_:1})):(o(),u(V,{key:0},{default:t((()=>[n(g,{description:e.$t("请选择左侧菜单后操作"),"image-size":100},null,8,["description"])])),_:1}))])),_:1})}],["__scopeId","data-v-36481408"]]);export{v as default};
