import{_ as e}from"./index-C3Re8InM.js";import{aj as t,at as i,o,J as s,K as l,S as a,P as r,Q as d,O as m,L as n,c as u}from"./@vue-_BCsYqm-.js";import"./element-plus-CoQd9HEf.js";import"./lodash-es-DCh--ulG.js";import"./@vueuse-DKZ1O7gq.js";import"./@element-plus-DpD46RjY.js";import"./@sxzz-CpAfbxx4.js";import"./@ctrl-D2oWfImC.js";import"./dayjs-Cud5yAXI.js";import"./async-validator-BTKOuuO-.js";import"./memoize-one-Ds0C_khL.js";import"./normalize-wheel-es-Vn5vHDCm.js";import"./@floating-ui-DT7V1Oc1.js";import"./crypto-js-BfYQ37JU.js";import"./axios-DMXdiZgf.js";import"./vue-router-CJBOlWwF.js";import"./nprogress-BX4rmQ7W.js";import"./vuex-CNGLPxA3.js";import"./json-bigint-D0bu8vFr.js";import"./bignumber.js-iDjSUVmj.js";import"./vue-i18n-DbMEmpqT.js";import"./@intlify-CZIS8eQd.js";import"./vue3-json-viewer-B-aZDOpp.js";import"./ace-builds-D9YH2WY7.js";import"./vue3-ace-editor-ubj-WOyx.js";import"./resize-observer-polyfill-CzGuHLZU.js";import"./sortablejs-BALiOaUQ.js";import"./vkbeautify-DEVEMlla.js";const p=e({components:{},data(){return{form:{},loading:!0,mode:"edit",rules:{value:[{required:!0,message:"请输入项值"}]},titleMap:{edit:this.$t("批量编辑字典项")},visible:!1}},emits:["success","closed","mounted"],methods:{async open(e){var t,i;if(this.visible=!0,this.loading=!0,this.mode=e.mode,this.form.catalogId=null==(t=e.data)?void 0:t.catalogId,null==(i=e.row)?void 0:i.id){const t=await this.$API.sys_dic.getContent.post({id:e.row.id});Object.assign(this.form,t.data)}return this.loading=!1,this},async submit(){if(!(await this.$refs.dialogForm.validate().catch((()=>{}))))return!1;this.loading=!0,this.$emit("success",this.form.value,this.mode),this.visible=!1,this.loading=!1}},mounted(){this.$emit("mounted")}},[["render",function(e,p,j,b,c,f){const v=t("el-input"),h=t("el-form-item"),g=t("el-form"),y=t("el-tab-pane"),$=t("JsonViewer"),_=t("el-tabs"),w=t("el-button"),k=t("scDialog"),x=i("loading");return o(),s(k,{modelValue:c.visible,"onUpdate:modelValue":p[2]||(p[2]=e=>c.visible=e),title:e.$t("批量修改"),onClosed:p[3]||(p[3]=t=>e.$emit("closed")),"destroy-on-close":""},{footer:l((()=>[a(w,{onClick:p[1]||(p[1]=e=>c.visible=!1)},{default:l((()=>[r(d(e.$t("取消")),1)])),_:1}),"view"!==c.mode?(o(),s(w,{key:0,disabled:c.loading,loading:c.loading,onClick:f.submit,type:"primary"},{default:l((()=>[r(d(e.$t("保存")),1)])),_:1},8,["disabled","loading","onClick"])):m("",!0)])),default:l((()=>[n((o(),u("div",null,[a(_,{"tab-position":"top"},{default:l((()=>[a(y,{label:e.$t("基本信息")},{default:l((()=>[a(g,{disabled:"view"===c.mode,model:c.form,rules:c.rules,"label-width":"10rem",ref:"dialogForm"},{default:l((()=>[a(h,{label:e.$t("项值"),prop:"value"},{default:l((()=>[a(v,{modelValue:c.form.value,"onUpdate:modelValue":p[0]||(p[0]=e=>c.form.value=e),clearable:""},null,8,["modelValue"])])),_:1},8,["label"])])),_:1},8,["disabled","model","rules"])])),_:1},8,["label"]),"view"===c.mode?(o(),s(y,{key:0,label:e.$t("原始数据")},{default:l((()=>[a($,{"expand-depth":5,theme:this.$TOOL.data.get("APP_SET_DARK")||this.$CONFIG.APP_SET_DARK?"dark":"light",value:c.form,copyable:"",expanded:"",sort:""},null,8,["theme","value"])])),_:1},8,["label"])):m("",!0)])),_:1})])),[[x,c.loading]])])),_:1},8,["modelValue","title"])}]]);export{p as default};
