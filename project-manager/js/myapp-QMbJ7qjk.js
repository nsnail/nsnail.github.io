import{d as e}from"./vuedraggable-Db3f5-Q-.js";import{_ as t}from"./index-C3Re8InM.js";import{aj as o,o as s,c as l,a,R as i,a7 as m,G as r,S as d,K as n,J as u,M as p,Q as c,P as h}from"./@vue-_BCsYqm-.js";import"./vue-Vf-7TWMk.js";import"./sortablejs-BALiOaUQ.js";import"./element-plus-CoQd9HEf.js";import"./lodash-es-DCh--ulG.js";import"./@vueuse-DKZ1O7gq.js";import"./@element-plus-DpD46RjY.js";import"./@sxzz-CpAfbxx4.js";import"./@ctrl-D2oWfImC.js";import"./dayjs-Cud5yAXI.js";import"./async-validator-BTKOuuO-.js";import"./memoize-one-Ds0C_khL.js";import"./normalize-wheel-es-Vn5vHDCm.js";import"./@floating-ui-DT7V1Oc1.js";import"./crypto-js-BfYQ37JU.js";import"./axios-DMXdiZgf.js";import"./vue-router-CJBOlWwF.js";import"./nprogress-BX4rmQ7W.js";import"./vuex-CNGLPxA3.js";import"./json-bigint-D0bu8vFr.js";import"./bignumber.js-iDjSUVmj.js";import"./vue-i18n-DbMEmpqT.js";import"./@intlify-CZIS8eQd.js";import"./vue3-json-viewer-B-aZDOpp.js";import"./ace-builds-D9YH2WY7.js";import"./vue3-ace-editor-ubj-WOyx.js";import"./resize-observer-polyfill-CzGuHLZU.js";import"./vkbeautify-DEVEMlla.js";const f={class:"myMods"},j=["href"],y={href:"javascript:void(0)"},M={class:"setMods"},g={class:"setMods"};const v=t({components:{draggable:e},data:()=>({mods:[],myMods:[],myModsName:[],filterMods:[],modsDrawer:!1}),mounted(){this.getMods()},methods:{addMods(){this.modsDrawer=!0},getMods(){this.myModsName=this.$TOOL.data.get("APP_SET_MY_MODS")||[],this.filterMenu(this.$GLOBAL.menu),this.myMods=this.mods.filter((e=>this.myModsName.includes(e.name))),this.filterMods=this.mods.filter((e=>!this.myModsName.includes(e.name)))},filterMenu(e){e.forEach((e=>{if(e.meta.hidden||"button"===e.meta.type)return!1;"iframe"===e.meta.type&&(e.path=`/i/${e.name}`),e.children&&e.children.length>0?this.filterMenu(e.children):this.mods.push(e)}))},saveMods(){this.$TOOL.data.set("APP_SET_MY_MODS",this.myMods.map((e=>e.name))),this.$message.success(this.$t("设置常用成功")),this.modsDrawer=!1}}},[["render",function(e,t,v,_,b,k){const $=o("el-icon"),w=o("router-link"),x=o("el-icon-plus"),D=o("draggable"),V=o("el-button"),z=o("el-drawer");return s(),l("div",null,[a("ul",f,[(s(!0),l(i,null,m(b.myMods,(e=>(s(),l("li",{key:e.path,style:r({background:e.meta.color||"var(--el-text-color-secondary)"})},["link"===e.meta.type?(s(),l("a",{key:0,href:e.path,target:"_blank"},[d($,null,{default:n((()=>[(s(),u(p(e.meta.icon||"el-icon-menu")))])),_:2},1024),a("p",null,c(e.meta.title),1)],8,j)):(s(),u(w,{key:1,to:{path:e.path}},{default:n((()=>[d($,null,{default:n((()=>[(s(),u(p(e.meta.icon||"el-icon-menu")))])),_:2},1024),a("p",null,c(e.meta.title),1)])),_:2},1032,["to"]))],4)))),128)),a("li",{onClick:t[0]||(t[0]=(...e)=>k.addMods&&k.addMods(...e)),class:"modItem-add"},[a("a",y,[d($,null,{default:n((()=>[d(x)])),_:1})])])]),d(z,{modelValue:b.modsDrawer,"onUpdate:modelValue":t[4]||(t[4]=e=>b.modsDrawer=e),size:570,title:e.$t("添加应用"),"destroy-on-close":""},{footer:n((()=>[d(V,{onClick:t[3]||(t[3]=e=>b.modsDrawer=!1)},{default:n((()=>[h(c(e.$t("取消")),1)])),_:1}),d(V,{onClick:k.saveMods,type:"primary"},{default:n((()=>[h(c(e.$t("保存")),1)])),_:1},8,["onClick"])])),default:n((()=>[a("div",M,[a("h4",null,c(e.$t("我的常用"))+" ( "+c(b.myMods.length)+" )",1),d(D,{modelValue:b.myMods,"onUpdate:modelValue":t[1]||(t[1]=e=>b.myMods=e),animation:"200",group:"people","item-key":"path",tag:"ul"},{item:n((({element:e})=>[a("li",{style:r({background:e.meta.color||"var(--el-text-color-secondary)"})},[d($,null,{default:n((()=>[(s(),u(p(e.meta.icon||"el-icon-menu")))])),_:2},1024),a("p",null,c(e.meta.title),1)],4)])),_:1},8,["modelValue"])]),a("div",g,[a("h4",null,c(e.$t("全部应用"))+" ( "+c(b.filterMods.length)+" )",1),d(D,{modelValue:b.filterMods,"onUpdate:modelValue":t[2]||(t[2]=e=>b.filterMods=e),sort:!1,animation:"200",group:"people","item-key":"path",tag:"ul"},{item:n((({element:e})=>[a("li",{style:r({background:e.meta.color||"var(--el-text-color-secondary)"})},[d($,null,{default:n((()=>[(s(),u(p(e.meta.icon||"el-icon-menu")))])),_:2},1024),a("p",null,c(e.meta.title),1)],4)])),_:1},8,["modelValue"])])])),_:1},8,["modelValue","title"])])}],["__scopeId","data-v-f665f3f2"]]);export{v as default};
