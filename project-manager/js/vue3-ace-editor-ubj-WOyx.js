import{a as e}from"./ace-builds-D9YH2WY7.js";import{i as t}from"./resize-observer-polyfill-CzGuHLZU.js";import{d as i,ai as s,aq as n,ak as o}from"./@vue-_BCsYqm-.js";const r=["blur","input","change","changeSelectionStyle","changeSession","copy","focus","paste"],a=i({name:"VAceEditor",props:{value:{type:String,required:!0},lang:{type:String,default:"text"},theme:{type:String,default:"chrome"},options:Object,placeholder:String,readonly:Boolean,wrap:Boolean,printMargin:{type:[Boolean,Number],default:!0},minLines:Number,maxLines:Number},emits:["update:value","init",...r],render:()=>s("div"),mounted(){const i=this._editor=n(e.edit(this.$el,{placeholder:this.placeholder,readOnly:this.readonly,value:this.value,mode:"ace/mode/"+this.lang,theme:"ace/theme/"+this.theme,wrap:this.wrap,printMargin:this.printMargin,useWorker:!1,minLines:this.minLines,maxLines:this.maxLines,...this.options}));this._contentBackup=this.value,this._isSettingContent=!1,i.on("change",(()=>{if(this._isSettingContent)return;const e=i.getValue();this._contentBackup=e,this.$emit("update:value",e)})),r.forEach((e=>{const t="on"+o(e);"function"==typeof this.$.vnode.props[t]&&i.on(e,this.$emit.bind(this,e))})),this._ro=new t((()=>i.resize())),this._ro.observe(this.$el),this.$emit("init",i)},beforeUnmount(){var e,t;null===(e=this._ro)||void 0===e||e.disconnect(),null===(t=this._editor)||void 0===t||t.destroy()},methods:{focus(){this._editor.focus()},blur(){this._editor.blur()},selectAll(){this._editor.selectAll()},getAceInstance(){return this._editor}},watch:{value(e){if(this._contentBackup!==e){try{this._isSettingContent=!0,this._editor.setValue(e,1)}finally{this._isSettingContent=!1}this._contentBackup=e}},theme(e){this._editor.setTheme("ace/theme/"+e)},options(e){this._editor.setOptions(e)},readonly(e){this._editor.setReadOnly(e)},placeholder(e){this._editor.setOption("placeholder",e)},wrap(e){this._editor.setWrapBehavioursEnabled(e)},printMargin(e){this._editor.setOption("printMargin",e)},lang(e){this._editor.setOption("mode","ace/mode/"+e)},minLines(e){this._editor.setOption("minLines",e)},maxLines(e){this._editor.setOption("maxLines",e)}}});export{a as V};
